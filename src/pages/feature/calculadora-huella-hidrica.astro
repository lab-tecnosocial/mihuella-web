---
import "./styles.css";
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <title>Calculadora de Huella H√≠drica</title>
  </head>
  <body>
    <div class="water-calculator">
      <!-- Paso 0: Introducci√≥n -->
      <div id="step0">
        <h1>¬°Calcula tu Huella H√≠drica!</h1>
        <img
          src="/public/img/huella-hidrica-icon.png"
          alt="gota de agua-calculadora dehuella hidrica"
          class="centered-image"
        />

        <p>
          <b>Cada acci√≥n diaria,</b> desde beber un vaso de agua hasta elegir qu√©
          comer, <b>necesita agua.</b> Pero no siempre vemos cu√°nta.
        </p>
        <p>
          La huella h√≠drica es un indicador que mide la cantidad de agua que
          usas de forma directa e indirecta, ayud√°ndote a entender mejor tu
          impacto y a encontrar maneras sencillas de reducirlo.
        </p>
        <p>
          <b
            >Esta huella h√≠drica se basa en 4 categor√≠as: higiene, limpieza,
            bienes, alimentos y bebidas, repartidas en 22 preguntas
          </b>
        </p>

        <button id="nextToStep1" class="next-btn">Comienza a calcular</button>
        <div class="nav-arrows">
          <button class="nav-arrow prev" onclick="goToPrevStep()">‚Äπ</button>
          <button class="nav-arrow next" onclick="goToNextStep()">‚Ä∫</button>
        </div>
      </div>

      <!-- Pregunta 1: Origen-->
      <div id="step1" style="display: none;">
        <h2>Origen</h2>
        <img
          src="/public/img/huella-hidrica-origen.png"
          alt="gota de agua-calculadora dehuella hidrica"
          class="centered-image"
        />

        <h3>¬øCu√°l es la fuente de agua potable en tu hogar?</h3>
        <div class="checkbox-group">
          <div class="checkbox-item">
            <input type="checkbox" id="redAgua" />
            <label for="redAgua">Red de agua (SEMAPA, EPSAS, SAGUAPAC)</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="cooperativas" />
            <label for="cooperativas">Cooperativas</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="ventasBloque" />
            <label for="ventasBloque">Ventas en bloque</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="cisternas" />
            <label for="cisternas">Cisternas</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="pozos" />
            <label for="pozos">Pozos (Gobierno municipal)</label>
          </div>
        </div>

        <h3>¬øCu√°ntas personas viven en su hogar?</h3>
        <div class="input-number">
          <input
            type="number"
            id="numPeople"
            placeholder="Ingresa un n√∫mero"
            min="1"
            max="20"
          />
        </div>
        <button id="nextToStep3" class="next-btn">Siguiente pregunta</button>
        <div class="nav-arrows">
          <button class="nav-arrow prev" onclick="goToPrevStep()">‚Äπ</button>
          <button class="nav-arrow next" onclick="goToNextStep()">‚Ä∫</button>
        </div>
      </div>
      <!-- Pregunta 3: Higiene tiempo de las duchas -->
      <div id="step3" style="display: none;">
        <img
          src="/public/img/tiempo-ducha.png"
          alt="duchas a las semana"
          class="centered-image"
        />
        <h3>¬øDe cu√°nto tiempo son tus duchas?</h3>
        <!-- Botones de opci√≥n -->
        <div class="options-container">
          <button class="option-btn" data-value="menos10"
            >Menos de 10 minutos</button
          >
          <button class="option-btn" data-value="10a20">10 a 20 minutos</button>
          <button class="option-btn" data-value="30a60">3 min a 1 hora</button>
        </div>
        <button id="nextToStep4" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Pregunta 4: Higiene duchas a la semana -->
      <div id="step4" style="display: none;">
        <h2>Higiene</h2>
        <h3>¬øCu√°ntas veces te duchas a la semana?</h3>
        <img
          src="/public/img/higiene.png"
          alt="duchas a las semana"
          class="centered-image"
        />

        <div class="input-number">
          <input
            type="number"
            id="showerTimesPerWeek"
            placeholder="Ingresa un n√∫mero"
            min="1"
            max="20"
          />
        </div>
        <button id="nextToStep5" class="next-btn">Siguiente pregunta</button>
      </div>
      <!-- Pregunta 5: Higiene cepillado de dientes -->
      <div id="step5" style="display: none;">
        <h2>Higiene</h2>
        <h3>¬øCu√°ntas veces al d√≠a te lavas los dientes?</h3>
        <img
          src="/public/img/diente.png"
          alt="cepillado de dientes al d√≠a"
          class="centered-image"
        />
        <div id="brushDuration" class="options-container">
          <button class="option-btn-brush" data-value="menos10"
            >1 vez al d√≠a</button
          >
          <button class="option-btn-brush" data-value="10a20"
            >2 veces al d√≠a</button
          >
          <button class="option-btn-brush" data-value="30a60"
            >3 veces al d√≠a o m√°s</button
          >
        </div>

        <button id="nextToStep6" class="next-btn">Siguiente pregunta</button>
      </div>
      <!-- Pregunta 6: Higiene lavado de manos -->
      <div id="step6" style="display: none;">
        <h2>Higiene</h2>
        <h3>¬øCu√°ntas veces al d√≠a te lavas las manos?</h3>
        <img
          src="/public/img/manos-icon.png"
          alt="cepillado de dientes al d√≠a"
          class="centered-image"
        />
        <div id="handDuration" class="options-container">
          <button class="option-btn-hand" data-value="menos10"
            >2 a 3 veces</button
          >
          <button class="option-btn-hand" data-value="10a20">3 a 5 veces</button
          >
          <button class="option-btn-hand" data-value="30a60"
            >M√°s de 5 veces</button
          >
        </div>

        <button id="nextToStep7" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Pregunta 7: Uso de inodoro -->
      <div id="step7" style="display: none;">
        <h2>Higiene</h2>
        <h3>¬øTienes inodoro ahorrador o tradicional?</h3>
        <img
          src="/public/img/inodoro-icon.png"
          alt="inodoro icon HH"
          class="centered-image"
        />
        <div class="options2">
          <label
            ><input type="radio" name="rainwater" value="si" /> ahorrador</label
          >
          <label
            ><input type="radio" name="rainwater" value="no" /> Tradicional</label
          >
        </div>

        <button id="nextToStep8" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Pregunta 8: Limpieza ropa -->
      <div id="step8" style="display: none;">
        <h2>Limpieza</h2>
        <h3>¬øC√≥mo lavas tu ropa?</h3>
        <img
          src="/public/img/ropa.png"
          alt="ropa calculadora hidrica"
          class="centered-image"
        />
        <div class="options-ropa">
          <label class="option-ropa">
            <input type="checkbox" name="washingMethod" value="aMano" />
            <span>A mano</span>
          </label>
          <label class="option-ropa">
            <input
              type="checkbox"
              name="washingMethod"
              value="lavadoraEstandar"
            />
            <span>Lavadora est√°ndar (Carga superior)</span>
          </label>
          <label class="option-ropa">
            <input
              type="checkbox"
              name="washingMethod"
              value="lavadoraEficiente"
            />
            <span>Lavadora eficiente (Carga frontal horizontal)</span>
          </label>
        </div>
        <h3>¬øCu√°ntas veces a la semana lavas ropa?</h3>
        <div class="input-number">
          <input
            type="number"
            id="clothesWashPerWeek"
            placeholder="Ingresa un n√∫mero"
            min="1"
            max="20"
          />
        </div>
        <button id="nextToStep9" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Pregunta 9: Limpieza lavado de trastes-->
      <div id="step9" style="display: none;">
        <h2>Limpieza</h2>
        <h3>¬øC√≥mo lavas los platos y trastes de tu cocina?</h3>
        <img
          src="/public/img/trastes-icon.png"
          alt="ropa calculadora hidrica"
          class="centered-image"
        />
        <div class="options2">
          <label
            ><input type="radio" name="rainwater" value="si" /> A mano</label
          >
          <label
            ><input type="radio" name="rainwater" value="no" /> lavajillas</label
          >
        </div>
        <h3>¬øCu√°ntas veces al d√≠a lavas los platos?</h3>
        <div class="input-number">
          <input
            type="number"
            id="dishesWashPerDay"
            placeholder="Ingresa un n√∫mero"
            min="1"
            max="20"
          />
        </div>
        <button id="nextToStep10" class="next-btn">Siguiente pregunta</button>
      </div>
      <!-- Pregunta 10: Consumo de Alimentos -->
      <div id="step10" style="display: none;">
        <h2>Consumo de Alimentos</h2>
        <img
          src="/public/img/lunch_dining.png"
          alt="Imagen de hamburguesa"
          class="centered-image"
        />
        <h3>¬øC√∫antos kilos de carne de res consumes a la semana?</h3>
        <div class="input-number">
          <input
            type="number"
            id="beefKgPerWeek"
            placeholder="Ingresa un n√∫mero (0.5 = 1/2 kg)"
            min="0"
            max="20"
          />
        </div>
        <h3>¬øC√∫antos kilos de carne de pollo consumes a la semana?</h3>
        <div class="input-number">
          <input
            type="number"
            id="chickenKgPerWeek"
            placeholder="Ingresa un n√∫mero (0.5 = 1/2 kg)"
            min="0"
            max="20"
          />
        </div>
        <button id="nextToStep11" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Pregunta 11: Consumo de Alimentos -->
      <div id="step11" style="display: none;">
        <h2>Consumo de Alimentos</h2>
        <img
          src="/public/img/coffee.png"
          alt="Imagen de caf√©"
          class="centered-image"
        />
        <h3>¬øC√∫antas tazas de caf√© consumes a la semana?</h3>
        <div class="input-number">
          <input
            type="number"
            id="coffeeCupsPerWeek"
            placeholder="Ingresa un n√∫mero"
            min="0"
            max="20"
          />
        </div>
        <h3>¬øC√∫antas tazas de t√© consumes a la semana?</h3>
        <div class="input-number">
          <input
            type="number"
            id="teaCupsPerWeek"
            placeholder="Ingresa un n√∫mero"
            min="0"
            max="20"
          />
        </div>
        <button id="nextToStep12" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Pregunta 12: Consumo de Alimentos -->
      <div id="step12" style="display: none;">
        <h2>Consumo de Alimentos</h2>
        <div style="display:flex; justify-content:center;">
          <img
            src="/public/img/egg.png"
            alt="Imagen de huevo"
            class="centered-image"
          />
          <img
            src="/public/img/washoku.png"
            alt="Imagen de arroz"
            class="centered-image"
          />
        </div>
        <h3>¬øCu√°ntas veces a la semana comes arroz?</h3>
        <div id="arrozOptions" class="options-container">
          <button class="option-btn" data-value="menos10">No consumo</button>
          <button class="option-btn" data-value="10a20">de 5 a 10 veces</button>
          <button class="option-btn" data-value="30a60">m√°s de 10 veces</button>
        </div>

        <h3>¬øCu√°ntas veces consumes huevo?</h3>
        <div id="huevoOptions" class="options-container">
          <button class="option-btn" data-value="menos10">No consumo</button>
          <button class="option-btn" data-value="10a20">de 5 a 10 veces</button>
          <button class="option-btn" data-value="30a60">m√°s de 10 veces</button>
        </div>
        <div style="display:flex;">
          <img
            src="/public/img/bakery_dining.png"
            alt="Croissant"
            class="centered-image"
          />
          <h3>¬øCu√°ntas piezas de pan consumes al d√≠a?</h3>
          <!-- Contador -->
          <div class="counter-controls">
            <button class="counter-btn" id="decrementBtn">-</button>
            <span class="counter-value" id="cellphoneCount">0</span>
            <button class="counter-btn" id="incrementBtn">+</button>
          </div>
        </div>
        <button id="nextToStep13" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Pregunta 13: Consumo de Alimentos -->
      <div id="step13" style="display: none;">
        <h2>Consumo de Alimentos</h2>
        <div
          style="display:flex; justify-content: center;"
          class="products-container"
        >
          <img
            src="/public/img/orange.png"
            alt="Imagen de naranja"
            class="centered-image"
          />
          <img
            src="/public/img/banana.png"
            alt="Imagen de platano"
            class="centered-image"
          />
        </div>
        <h3>¬øCu√°ntos pl√°tanos consumes a la semana?</h3>
        <div id="platanoOptions" class="options-container">
          <button class="option-btn" data-value="menos10">No consumo</button>
          <button class="option-btn" data-value="10a20">de 5 a 10 veces</button>
          <button class="option-btn" data-value="30a60">m√°s de 10 veces</button>
        </div>

        <h3>¬øCu√°ntas naranjas consumes a la semana?</h3>
        <div id="naranjaOptions" class="options-container">
          <button class="option-btn" data-value="menos10">No consumo</button>
          <button class="option-btn" data-value="10a20">de 5 a 10 veces</button>
          <button class="option-btn" data-value="30a60">m√°s de 10 veces</button>
        </div>
        <button id="nextToStep22" class="next-btn">Siguiente pregunta</button>
      </div>
      <!-- Seccion bienes y servicios pregunta 22-->
      <div id="step22" style="display: none;">
        <h2>Bienes y Servicios</h2>

        <img
          src="/public/img/bienes-y-servicios.png"
          alt="bienes y servicios en la huella hidrica"
          class="centered-image"
        />
        <h3>¬øCu√°ntas veces compras ropa o calzado <b> nuevo</b> al a√±o?</h3>

        <div id="purchaseFrequency" class="frequency-options">
          <button class="freq-btn" data-value="1">1 vez al a√±o</button>
          <button class="freq-btn" data-value="6+">M√°s de 6 veces</button>
          <button class="freq-btn" data-value="2-5">Entre 2 a 5 veces</button>
        </div>

        <!-- Pregunta 23: Cantidad por producto -->
        <h3>¬øCu√°ntos de estos productos compras al a√±o?</h3>
        <div id="productCounters" class="products-container">
          <!-- Tenis -->
          <div class="product-item" data-product="tenis">
            <img src="/public/img/tenis-HH.png" alt="tenis-icon" />
            <p>Tenis</p>
            <div class="counter-controls">
              <button class="counter-btn" data-action="decrement">-</button>
              <span class="counter-value" id="tenisCount">0</span>
              <button class="counter-btn" data-action="increment">+</button>
            </div>
          </div>

          <!-- Camiseta -->
          <div class="product-item" data-product="camiseta">
            <img src="/public/img/camiseta-HH.png" alt="camiseta-icon" />
            <p>Camiseta (algod√≥n)</p>
            <div class="counter-controls">
              <button class="counter-btn" data-action="decrement">-</button>
              <span class="counter-value" id="camisetaCount">0</span>
              <button class="counter-btn" data-action="increment">+</button>
            </div>
          </div>

          <!-- Jeans -->
          <div class="product-item" data-product="jeans">
            <img src="/public/img/jeans-HH.png" alt="camiseta-icon" />
            <p>Jeans</p>
            <div class="counter-controls">
              <button class="counter-btn" data-action="decrement">-</button>
              <span class="counter-value" id="jeansCount">0</span>
              <button class="counter-btn" data-action="increment">+</button>
            </div>
          </div>
        </div>

        <button id="nextToStep23" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Seccion bienes y servicios pregunta 24-->
      <div id="step23" style="display: none;">
        <h2>Bienes y servicios</h2>
        <img
          src="/public/img/bienes-y-servicios2.png"
          alt="duchas a las semana"
          class="centered-image"
        />
        <h3>¬øCu√°ntos celulares has tenido durante los √∫ltimos 5 a√±os?</h3>
        <!-- Contador -->
        <div class="counter-controls">
          <button class="counter-btn" id="decrementBtn">-</button>
          <span class="counter-value" id="cellphoneCount">0</span>
          <button class="counter-btn" id="incrementBtn">+</button>
        </div>
        <button id="nextToStep24" class="next-btn">Siguiente pregunta</button>
      </div>

      <!-- Seccion habitos sostenibles-->
      <div id="step24" style="display: none;">
        <h2>H√°bitos Sostenibles</h2>

        <img
          src="/public/img/habitos-sostenibles.png"
          alt="h√°bitos sostenibles en la huella hidrica"
          class="centered-image"
        />
        <div class="question24">
          <h3>
            ¬øTienes un sistema de recolecci√≥n de agua de lluvia en tu hogar?
          </h3>
          <div class="options2">
            <label><input type="radio" name="rainwater" value="si" /> S√≠</label>
            <label><input type="radio" name="rainwater" value="no" /> No</label>
          </div>
        </div>

        <div class="question24">
          <h3>¬øReciclas papel?</h3>
          <div class="options2">
            <label
              ><input type="radio" name="recyclePaper" value="si" /> S√≠</label
            >
            <label
              ><input type="radio" name="recyclePaper" value="no" /> No</label
            >
          </div>
        </div>
        <div class="question24">
          <h3>¬øCu√°ntos kilos de papel reciclas al a√±o aproximadamente?</h3>
          <input
            type="number"
            id="recycledPaperKg"
            placeholder="Ingresa un n√∫mero (0.5 = 1/2 kg)"
            min="0"
            step="0.5"
          />
        </div>
        <button id="nextToStep25" class="next-btn">Ver resultados</button>
      </div>

      <!--Resultados -->
      <div id="step25" style="display: none;">
        <!-- Fila de resultados -->
        <div class="result-card">
          <!-- Gota de agua -->
          <img
            src="/public/img/huella-hidrica-icon.png"
            alt="Gota de agua"
            class="drop-icon"
          />
          <!-- Texto del resultado -->
          <div class="result-text">
            <p>Tu huella h√≠drica es:</p>
            <h2 id="resultado">1022<span>Litros/a√±o</span></h2>
            <p>
              Una persona consume una media de <strong
                >49640 litros por d√≠a</strong
              >.
            </p>
          </div>
          <!-- Comparaciones -->
          <div class="comparisons">
            <div class="comparison">
              <img
                src="/public/img/botella-icon.png"
                alt="Botella"
                class="icon"
              />
              <p>
                <strong>Tu consumo de agua</strong> en un mes se podr√≠a llenar
                <strong>X botellas de 2 litros</strong>.
              </p>
            </div>
            <div class="comparison">
              <img
                src="/public/img/camion-icon.png"
                alt="Cami√≥n cisterna"
                class="icon"
              />
              <p>
                En un a√±o, tu huella h√≠drica equivale al agua contenida en <strong
                  >X camiones cisterna</strong
                >.
              </p>
            </div>
          </div>
        </div>
        <button id="nextToStep26" class="next-btn">¬øC√≥mo ahorrar?</button>
      </div>

      <!-- Consejos-->
      <div id="step26" style="display: none;">
        <h2>Consejos para ahorrar agua</h2>
        <h3>¬°Mejora tu HUELLA H√çDRICA!</h3>

        <!-- Botones -->
        <div class="buttons-container">
          <button class="category-btn" data-category="higiene">Higiene</button>
          <button class="category-btn" data-category="limpieza">Limpieza</button
          >
          <button class="category-btn" data-category="alimentos"
            >Alimentos y bebidas</button
          >
          <button class="category-btn" data-category="bienes"
            >Bienes y servicios</button
          >
        </div>

        <!-- Bot√≥n Volver a calcular -->
        <button class="back-button">Volver a calcular</button>

        <!-- Modal flotante -->
        <div id="modal" class="modal">
          <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-title">Consejos Higiene</h2>
            <div id="modal-body">
              <ol>
                <li>
                  D√∫chate el menor tiempo posible y apaga el agua al
                  enjabonarte.
                </li>
                <li>Repara grifos o fugas en casa.</li>
                <li>Cierra el grifo al cepillarte los dientes.</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="footer-links">
        <a href="#">¬øC√≥mo calculamos?</a>
        <a href="#">Sobre nosotros</a>
        <a href="#">¬øYa Conoces tu huella de Carbono?</a>
      </div>
      <p>¬© 2025 Calculadora de Huella H√≠drica</p>
    </footer>
  </body>

  <script>
    // Step 0 to 1
    document
      .getElementById("nextToStep1")!
      .addEventListener("click", function () {
        document.getElementById("step0")!.style.display = "none";
        document.getElementById("step1")!.style.display = "block";
      });

    // Step 1 to 3
    const nextToStep3Btn = document.getElementById("nextToStep3")!;
    nextToStep3Btn.addEventListener("click", function () {
      document.getElementById("step1")!.style.display = "none";
      document.getElementById("step3")!.style.display = "block";
    });

    // For step 3 buttons
    const optionBtns = document.querySelectorAll(".option-btn");
    optionBtns.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        selectedDuration = (e.target as HTMLElement).dataset.value || "";
        // Optional: highlight selected
        optionBtns.forEach((b) => b.classList.remove("selected"));
        (e.target as HTMLElement).classList.add("selected");
      });
    });

    // Step 3 al 4
    const nextToStep4Btn = document.getElementById("nextToStep4")!;
    nextToStep4Btn.addEventListener("click", function () {
      document.getElementById("step3")!.style.display = "none";
      document.getElementById("step4")!.style.display = "block";
    });
    // Step 4 al 5
    const nextToStep5Btn = document.getElementById("nextToStep5")!;
    nextToStep5Btn.addEventListener("click", function () {
      document.getElementById("step4")!.style.display = "none";
      document.getElementById("step5")!.style.display = "block";
    });
    const brushBtns = document.querySelectorAll(".option-btn-brush");
    let selectedBrush = "";
    brushBtns.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        // Obtenemos el valor del bot√≥n clicado
        selected = e.target.dataset.value || "";
        brushBtns.forEach((b) => b.classList.remove("selected"));
        e.target.classList.add("selected");
        console.log("Respuesta seleccionada:", selectedBrush);
      });
    });
    // Step 5 al 6
    const nextToStep6Btn = document.getElementById("nextToStep6")!;
    nextToStep6Btn.addEventListener("click", function () {
      document.getElementById("step5")!.style.display = "none";
      document.getElementById("step6")!.style.display = "block";
    });

    const handBtns = document.querySelectorAll(".option-btn-hand");
    let selectedHand = "";
    handBtns.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        // Obtenemos el valor del bot√≥n clicado
        selectedHand = e.target.dataset.value || "";

        // Quitamos la clase "selected" de todos los botones
        handBtns.forEach((b) => b.classList.remove("selected"));

        // Agregamos la clase "selected" al bot√≥n clicado
        e.target.classList.add("selected");

        console.log("Respuesta seleccionada (lavado de manos):", selectedHand);
      });
    });

    // Step 6 al 7
    const nextToStep7Btn = document.getElementById("nextToStep7")!;
    nextToStep7Btn.addEventListener("click", function () {
      document.getElementById("step6")!.style.display = "none";
      document.getElementById("step7")!.style.display = "block";
    });

    // Step 7 al 8
    const nextToStep8Btn = document.getElementById("nextToStep8")!;
    nextToStep8Btn.addEventListener("click", function () {
      document.getElementById("step7")!.style.display = "none";
      document.getElementById("step8")!.style.display = "block";
    });

    // Step 8 al 9
    const nextToStep9Btn = document.getElementById("nextToStep9")!;
    nextToStep9Btn.addEventListener("click", function () {
      document.getElementById("step8")!.style.display = "none";
      document.getElementById("step9")!.style.display = "block";
    });

    // Step 9 al 10
    const nextToStep10Btn = document.getElementById("nextToStep10")!;
    nextToStep10Btn.addEventListener("click", function () {
      document.getElementById("step9")!.style.display = "none";
      document.getElementById("step10")!.style.display = "block";
    });

    // Step 10 al 11
    const nextToStepBtn11 = document.getElementById("nextToStep11")!;
    nextToStepBtn11.addEventListener("click", function () {
      document.getElementById("step10")!.style.display = "none";
      document.getElementById("step11")!.style.display = "block";
    });

    // Step 11 al 12
    const nextToStepBtn12 = document.getElementById("nextToStep12")!;
    nextToStepBtn12.addEventListener("click", function () {
      document.getElementById("step11")!.style.display = "none";
      document.getElementById("step12")!.style.display = "block";
    });

    // Step 12 al 13
    const nextToStepBtn13 = document.getElementById("nextToStep13")!;
    nextToStepBtn13.addEventListener("click", function () {
      document.getElementById("step12")!.style.display = "none";
      document.getElementById("step13")!.style.display = "block";
    });

    // Step 13 al 22 (bienes y servicios)
    const nextToStepBtn22 = document.getElementById("nextToStep22")!;
    nextToStepBtn22.addEventListener("click", function () {
      document.getElementById("step13")!.style.display = "none";
      document.getElementById("step22")!.style.display = "block";
    });

    //pregunta 22 - 23
    const nextToStepBtn23 = document.getElementById("nextToStep23")!;
    nextToStepBtn23.addEventListener("click", function () {
      document.getElementById("step22")!.style.display = "none";
      document.getElementById("step23")!.style.display = "block";
    });

    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".counter-btn").forEach((button) => {
        button.addEventListener("click", function () {
          const action = this.getAttribute("data-action");
          const productItem = this.closest(".product-item");
          if (!productItem) return;

          const product = productItem.getAttribute("data-product");
          const countElement = document.getElementById(`${product}Count`);
          if (!countElement) return;

          let count = parseInt(countElement.textContent, 10) || 0;

          if (action === "increment") {
            count++;
          } else if (action === "decrement" && count > 0) {
            count--;
          }

          countElement.textContent = count.toString();
        });
      });
    });

    // boton de mas y menos de pregunta 23
    let cellphoneCount = 0;
    const display = document.getElementById(
      "cellphoneCount",
    ) as HTMLSpanElement;

    if (!display) {
      console.error("Display element not found");
    } else {
      const decrementBtn = document.getElementById(
        "decrementBtn",
      ) as HTMLButtonElement;
      const incrementBtn = document.getElementById(
        "incrementBtn",
      ) as HTMLButtonElement;

      if (decrementBtn) {
        decrementBtn.addEventListener("click", () => {
          if (cellphoneCount > 0)
            display.textContent = (--cellphoneCount).toString();
        });
      }

      if (incrementBtn) {
        incrementBtn.addEventListener("click", () => {
          display.textContent = (++cellphoneCount).toString();
        });
      }
    }

    //pregunta 23 - 24
    const nextToStepBtn24 = document.getElementById("nextToStep24")!;
    nextToStepBtn24.addEventListener("click", function () {
      document.getElementById("step23")!.style.display = "none";
      document.getElementById("step24")!.style.display = "block";
    });

    //step 24 - 25 Resultados
    const nextToStepBtn25 = document.getElementById("nextToStep25")!;
    nextToStepBtn25.addEventListener("click", function () {
      document.getElementById("step24")!.style.display = "none";
      document.getElementById("step25")!.style.display = "block";
      logAllFormValues();
    });
    //step 24 - 25 Resultados
    const nextToStepBtn26 = document.getElementById("nextToStep26")!;

    nextToStepBtn26.addEventListener("click", function () {
      document.getElementById("step25")!.style.display = "none";
      document.getElementById("step26")!.style.display = "block";
    });
    const tips = {
      higiene: [
        "D√∫chate el menor tiempo posible y apaga el agua al enjabonarte.",
        "Repara grifos o fugas en casa.",
        "Cierra el grifo al cepillarte los dientes.",
      ],
      limpieza: [
        "Usa cubetas en lugar de manguera para lavar el auto.",
        "Lava la ropa solo cuando tengas cargas completas.",
        "Recicla el agua de la lluvia para regar plantas.",
      ],
      alimentos: [
        "Evita desperdiciar comida, ya que cada alimento requiere agua para producirse.",
        "Elige productos locales y de temporada para reducir la huella h√≠drica del transporte.",
        "Reduce el consumo de carne, especialmente de res, que requiere mucha agua.",
      ],
      bienes: [
        "Compra ropa de segunda mano o reciclada.",
        "Repara tus productos en lugar de reemplazarlos.",
        "Elige productos duraderos y de calidad para reducir el consumo.",
      ],
    };

    // Referencias a elementos
    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modal-title");
    const modalBody = document.getElementById("modal-body");
    const closeModal = document.querySelector(".close");

    // Event listener para los botones de categor√≠a
    document.querySelectorAll(".category-btn").forEach((button) => {
      button.addEventListener("click", function () {
        const category = this.getAttribute("data-category");
        showTips(category);
      });
    });

    // Funci√≥n para mostrar los consejos
    function showTips(category) {
      // Actualizar t√≠tulo
      modalTitle.textContent = `Consejos ${category.charAt(0).toUpperCase() + category.slice(1)}`;

      // Generar lista de consejos
      const tipList = tips[category]
        .map((tip, index) => `<li>${index + 1}. ${tip}</li>`)
        .join("");

      // Insertar en el modal
      modalBody.innerHTML = `<ol>${tipList}</ol>`;

      // Mostrar el modal
      modal.style.display = "flex";
    }

    // c√°lculo HH
    function logAllFormValues() {
      const values = {};

      // 1. Inputs de n√∫mero
      document.querySelectorAll('input[type="number"]').forEach((input) => {
        const id = input.id || input.name || "unnamed_number";
        values[id] = parseFloat(input.value) || 0;
      });

      // 2. Checkboxes - Origen
      const origenCheckboxes = [
        "redAgua",
        "cooperativas",
        "ventasBloque",
        "cisternas",
        "pozos",
      ];
      values.origen = origenCheckboxes.filter(
        (id) => document.getElementById(id)?.checked,
      );

      // Lavado de ropa
      const washingMethods = [];
      document
        .querySelectorAll('input[name="washingMethod"]:checked')
        .forEach((cb) => {
          washingMethods.push(cb.value);
        });
      values.washingMethod = washingMethods ? washingMethods[0] : "aMano";

      // 3. Radios
      const radioGroups = ["rainwater", "recyclePaper"];
      radioGroups.forEach((name) => {
        const checked = document.querySelector(`input[name="${name}"]:checked`);
        values[name] = checked ? checked.value : "no";
      });

      // 4. Botones con data-value
      const selectedShowerBtn = document.querySelector(
        "#showerDuration .option-btn.selected",
      );
      values.showerDuration = selectedShowerBtn
        ? selectedShowerBtn.dataset.value
        : 0;

      const selectedBrushBtn = document.querySelector(
        ".option-btn-brush.selected",
      );
      values.brushFrequency = selectedBrushBtn
        ? selectedBrushBtn.dataset.value
        : "menos10";

      const selectedHandBtn = document.querySelector(
        ".option-btn-hand.selected",
      );
      values.handWashFrequency = selectedHandBtn
        ? selectedHandBtn.dataset.value
        : "0";

      // Alimentos (step12 y step13)
      const arrozBtn = document.querySelector(
        "#step12 button.option-btn.selected:nth-of-type(1)",
      );
      const teBtn = document.querySelector(
        "#step12 button.option-btn.selected:nth-of-type(2)",
      );
      const platanoBtn = document.querySelector(
        "#step13 button.option-btn.selected:nth-of-type(1)",
      );
      const naranjaBtn = document.querySelector(
        "#step13 button.option-btn.selected:nth-of-type(2)",
      );

      values.arrozFrequency = arrozBtn ? arrozBtn.dataset.value : "0";
      values.teFrequency = teBtn ? teBtn.dataset.value : "0";
      values.platanoFrequency = platanoBtn ? platanoBtn.dataset.value : "0";
      values.naranjaFrequency = naranjaBtn ? naranjaBtn.dataset.value : "";

      // Frecuencia de compra (step22)
      const purchaseFreqBtn = document.querySelector(
        "#purchaseFrequency .freq-btn.selected",
      );
      values.purchaseFrequency = purchaseFreqBtn
        ? purchaseFreqBtn.dataset.value
        : "1";

      // 5. Contadores personalizados
      const counterIds = [
        "tenisCount",
        "camisetaCount",
        "jeansCount",
        "cellphoneCount",
      ];
      counterIds.forEach((id) => {
        const el = document.getElementById(id);
        values[id] = el ? parseInt(el.textContent, 10) || 0 : 0;
      });

      // 6. Papel reciclado
      const recycledPaperInput = document.querySelector(
        '#step24 input[type="number"]',
      );
      values.recycledPaperKg = recycledPaperInput
        ? parseFloat(recycledPaperInput.value) || 0
        : 0;

      // üî• Imprimir todos los valores en la consola
      console.log("=== Valores del formulario ===");
      for (const key in values) {
        if (values.hasOwnProperty(key)) {
          console.log(`${key}:`, values[key]);
        }
      }
      // c√°lculo de hh
      let origen = 0.0;
      let higiene = 0.0;
      let limpieza = 0.0;
      let alimentos = 0.0;
      let bienes_servicios = 0.0;
      let habitos_sostenibles = 0.0;
      // 1. C√°lculo higiene:
      console.log("Higiene prueba");
      console.log("Veces que te ba√±as x semana", values["showerTimesPerWeek"]);
      let duracion_duchas = 0;
      let cantVecesDuchas = values["showerTimesPerWeek"];
      if (values["showerDuration"][0] === "menos10") {
        duracion_duchas = 4000;
      } else {
        if (values["showerDuration"][0] === "10a20") {
          duracion_duchas = 8000;
        } else {
          if (values["showerDuration"][0] === "30a60") {
            duracion_duchas = 18000;
          }
        }
      }
      let lavado_dientes = 0;
      if (values["brushFrequency"] === "menos10") {
        lavado_dientes = 300;
      } else {
        if (values["brushFrequency"] === "10a20") {
          lavado_dientes = 600;
        } else {
          if (values["brushFrequency"] === "30a60") {
            lavado_dientes = 900;
          }
        }
      }
      let cantLavadoManos = 0;
      if (values["handWashFrequency"] === "menos10") {
        cantLavadoManos = 135; //3
      } else {
        if (values["handWashFrequency"] === "10a20") {
          cantLavadoManos = 225; //5
        } else {
          if (values["handWashFrequency"] === "30a60") {
            cantLavadoManos = 450;
          }
        }
      }
      let cantInodoro = 0;
      if (values["rainwater"] == "no") {
        cantInodoro = 210;
      }
      higiene =
        duracion_duchas * cantVecesDuchas +
        lavado_dientes +
        cantLavadoManos +
        cantInodoro;

      // Limpieza
      let metodo_lavado = 0;
      if (values["washingMethod"][0] === "aMano") {
        metodo_lavado = 840;
      } else {
        if (values["washingMethod"][0] === "lavadoraEstandar") {
          metodo_lavado = 960;
        } else {
          if (values["washingMethod"][0] === "lavadoraEficiente") {
            metodo_lavado = 400;
          }
        }
      }
      let cantVecesTrastesLavada = 0;
      let cantVecesRopaLavada = values["clothesWashPerWeek"];
      if (values["dishesWashPerDay"] === "si") {
        cantVecesTrastesLavada = 60;
      }
      limpieza = cantVecesRopaLavada * metodo_lavado + cantVecesTrastesLavada;
      // consumo de alimentos
      let consumoCarneRes = values["beefKgPerWeek"] * 15415;
      let consumoCarnePollo = values["chickenKgPerWeek"] * 4300;
      let consumoCafe = values["coffeeCupsPerWeek"] * 132;
      let consumoTe = values["teaCupsPerWeek"] * 56;
      let consumoArroz = values["arrozFrequency"] * 2497;
      let consumoPlatano = values["platanoFrequency"] * 160;
      let consumoNaranja = values["arrozFrequency"] * 80;
      alimentos =
        consumoCarneRes +
        consumoCarnePollo +
        consumoCafe +
        consumoTe +
        consumoArroz +
        consumoPlatano +
        consumoNaranja;

      //bienes y servicios
      let productoQueSeCompraMas = 0;
      if (values["tenisCount"] > values["camisetaCount"]) {
        if (values["tenisCount"] > values["jeansCount"]) {
          productoQueSeCompraMas = 8000;
        } else {
          if (values["jeansCount"] > values["camisetaCount"]) {
            productoQueSeCompraMas = 6500;
          } else {
            productoQueSeCompraMas = 2700;
          }
        }
      }
      bienes_servicios =
        (productoQueSeCompraMas + values["cellphoneCount"]) / 12;
      //h√°bitos sostenibles
      let recoleccionAgua = 0;
      if (values["rainwater"] === "si") {
        recoleccionAgua = 159;
      }
      let kgPapelReciclado = 0;
      if (values["recyclePaper"] === "si") {
        kgPapelReciclado = values["recycledPaperKg"] * 26.5;
      }

      habitos_sostenibles = kgPapelReciclado + kgPapelReciclado;

      let total =
        origen +
        limpieza +
        higiene +
        alimentos +
        bienes_servicios +
        habitos_sostenibles;
      console.log("Total: ", total);
      console.log("Higiene: ", higiene);
      console.log("Limpieza: ", limpieza);
      console.log("Consumo de Alimentos: ", alimentos);
      console.log("Bienes y Servicios: ", bienes_servicios);
      console.log("H√°bitos Sostenibles: ", habitos_sostenibles);

      let resultadoElement = document.getElementById("resultado");
      resultadoElement.innerHTML = `${total} <span>Litros/a√±o</span>`;
      console.log("=== Fin de los valores ===");
    }

    logAllFormValues();
  </script>
</html>
